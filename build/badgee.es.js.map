{"version":3,"file":"badgee.es.js","sources":["../src/utils.js","../src/console.js","../src/config.js","../src/store.js","../src/styles.js","../src/badgee.js"],"sourcesContent":["export const noop = () => {};\n\nexport const extend = (destObj, ...args) => {\n  for (const i in args) {\n    const obj = args[i];\n    for (const key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        const val = obj[key];\n        destObj[key] = val;\n      }\n    }\n  }\n  return destObj\n}\n","import { noop } from './utils.js'\n// Homogeneisation of the console API on different browsers\n//  - add compat console object if not available\n//  - some methods might not be defined. fake them with `noop` function\n//  - some \"methods\" might not be functions but properties (eg. profile & profileEnd in IE11)\n\nconst console = this.console || {};\n\nconst checkConsoleMethods = (methodList) => {\n  const ret = [];\n  for (const i in methodList) {\n    const method = methodList[i]\n    if (!console[method]) {\n      console[method] = noop;\n      ret.push(method);\n    } else if (typeof console[method] !== 'function') {\n      properties.push(method);\n    } else {\n      ret.push(method);\n    }\n  }\n  return ret;\n};\n\n// For the record, every single console methods and properties\n// [\"memory\", \"exception\", \"debug\", \"error\", \"info\", \"log\", \"warn\", \"dir\",\n// \"dirxml\", \"table\", \"trace\", \"assert\", \"count\", \"markTimeline\", \"profile\",\n// \"profileEnd\", \"time\", \"timeEnd\", \"timeStamp\", \"timeline\", \"timelineEnd\",\n// \"group\", \"groupCollapsed\", \"groupEnd\", \"clear\"]\nconst properties = [\n  'memory'\n];\n\nconst methods = checkConsoleMethods([\n  'debug', 'dirxml', 'error', 'group',\n  'groupCollapsed', 'info', 'log', 'warn'\n]);\n\nconst unformatableMethods = checkConsoleMethods([\n  'assert', 'clear', 'count', 'dir', 'exception', 'groupEnd', 'markTimeline',\n  'profile', 'profileEnd', 'table', 'trace', 'time', 'timeEnd', 'timeStamp',\n  'timeline', 'timelineEnd'\n]);\n\nexport {\n  properties,\n  methods,\n  unformatableMethods\n}\nexport default console\n","import { extend } from './utils';\n\n// default configuration\nconst defaults = {\n  enabled : true,\n  styled  :  true\n};\n\nlet config = extend({}, defaults);\n\nconst configure = function(conf) {\n  // update conf\n  if (typeof conf === 'object') {\n    config = extend({}, defaults, conf);\n  }\n\n  // return current conf\n  return config;\n};\n\nexport default configure\n","class Store {\n  constructor() {\n    this._store = {};\n  }\n\n  // Add object to store\n  add(name, obj) {\n    this._store[name] = obj;\n  }\n\n  // get obj from store\n  get(name) {\n    return this._store[name] || null\n  }\n\n  list() {\n    return Object.keys(this._store);\n  }\n\n  each(func) {\n    for (const name in this._store) {\n      const obj = this._store[name];\n      func(name, obj);\n    }\n  }\n}\n\nexport default Store;\n","import Store from './store';\nimport { extend } from './utils';\n\n// Create store to save styles\nconst store = new Store;\n\n// Default properties for styles\nlet defaultsStyle = {\n  'border-radius': '2px',\n  'padding'      : '1px 3px',\n  'margin'       : '0 1px',\n  'color'        : 'white'\n};\n\nconst styles = {\n  // define a new style or list existing ones\n  style(name, style) {\n    if (name != null && style != null) {\n      style = extend({}, defaultsStyle, style);\n      store.add(name, style);\n    }\n    else if (name != null) {\n      return store.get(name);\n    }\n    return store.list();\n  },\n\n  defaults(style) {\n    if (style != null) {\n      defaultsStyle = style;\n    }\n    return defaultsStyle;\n  },\n\n  stringForStyle(name) {\n    const style = store.get(name);\n    return ((() => {\n      const result = [];\n      for (const k in style) {\n        const v = style[k];\n        let item;\n        if (style.hasOwnProperty(k)) {\n          item = `${k}:${v};`;\n        }\n        result.push(item);\n      }\n      return result;\n    })()).join('');\n  }\n};\n\n\n// define a few styles\n\nconst black = {'color': 'black'};\n\nstyles.style('black',   extend({}, {'background': 'black'}));\nstyles.style('blue',    extend({}, {'background': 'blue'}));\nstyles.style('brown',   extend({}, {'background': 'brown'}));\nstyles.style('gray',    extend({}, {'background': 'gray'}));\nstyles.style('green',   extend({}, {'background': 'green'}));\nstyles.style('purple',  extend({}, {'background': 'purple'}));\nstyles.style('red',     extend({}, {'background': 'red'}));\nstyles.style('cyan',    extend({}, black, {'background': 'cyan'}));\nstyles.style('magenta', extend({}, black, {'background': 'magenta'}));\nstyles.style('orange',  extend({}, black, {'background': 'orange'}));\nstyles.style('pink',    extend({}, black, {'background': 'pink'}));\nstyles.style('yellow',  extend({}, black, {'background': 'yellow'}));\n\n\nexport default styles;\n","/* eslint-disable no-console */\n/*! badgee v1.2.0 - MIT license */\nimport { noop } from './utils.js'\nimport console, {\n  properties, methods, unformatableMethods\n} from './console.js'\nimport config from './config';\nimport Store from './store';\nimport styles from './styles';\n\nlet currentConf = config();\nconst store     = new Store;\n\nlet filter = {\n  include : null,\n  exclude : null\n};\n\n// concat foramted label for badges output\n// (i.e. \"%cbadge1%cbadge2\" with style or \"[badge1][badge2] without style\")\nconst concatLabelToOutput = function(out, label, hasStyle){\n  if (out == null) { out = ''; }\n  if (hasStyle == null) { hasStyle = false; }\n  return `${out}${\n    hasStyle ? '%c' : '['\n  }${label}${\n    !hasStyle ? ']' : ''\n  }`;\n};\n\n// Given a label, style and parentName, generate the full list of arguments to\n// pass to console method to get a foramted output\nvar argsForBadgee = function(label, style, parentName) {\n  let args = [];\n\n  if (!currentConf.styled) { style = false; }\n  if (parentName) {\n    const parent = store.get(parentName);\n    args = argsForBadgee(parent.badgee.label, parent.style, parent.parent);\n  }\n\n  if (label) {\n    args[0] = concatLabelToOutput(args[0], label, !!style);\n  }\n\n  if (style) {\n    args.push(styles.stringForStyle(style));\n  }\n\n  return args;\n};\n\n// Define empty Badgee methods\n// Intended to be called in a 'Badgee' instance context (e.g. with 'bind()')\nconst _disable = function() {\n  for (const i in methods) {\n    const method = methods[i]\n    this[method] = noop;\n  }\n  for (const i in unformatableMethods) {\n    const method = unformatableMethods[i];\n    this[method] = noop;\n  }\n};\n\n\n// Define Badgee methods form console object\n// Intended to be called in a 'Badgee' instance context (e.g. with 'bind()')\nconst _defineMethods = function(style, parentName) {\n\n  if (!currentConf.enabled) {\n    return _disable.bind(this)();\n  } else {\n    // get arguments to pass to console object\n    const args = argsForBadgee(this.label, style, parentName);\n\n    // Reset style for FF :\n    // Defining a last style to an unknown property seems to reset to the default\n    // behavior on FF\n    if (style && (args.length > 1)) {\n      args[0] += '%c';\n      args.push('p:a');\n    }\n\n    const isntInclusive = (filter.include != null) && !filter.include.test(args[0]);\n    const isExclusive   = filter.exclude != null ? filter.exclude.test(args[0]) : undefined;\n    if (isntInclusive || isExclusive) {\n      _disable.bind(this)();\n    } else {\n      // Define Badgee 'formatable' methods form console object\n      for (const i in methods) {\n        const method = methods[i]\n        this[method] = console[method].bind(console, ...Array.from(args));\n      }\n\n      // Define Badgee 'unformatable' methods form console object\n      for (const i in unformatableMethods) {\n        const method = unformatableMethods[i];\n        this[method] = console[method].bind(console);\n      }\n    }\n\n    // Define Badgee properties from console object\n    return properties.map((prop) => (this[prop] = console[prop]));\n  }\n};\n\n// ==================================\n\nclass Badgee {\n\n  constructor(label, style, parentName) {\n    // Define Badgee methods form console object\n    this.label = label;\n    _defineMethods.bind(this, style, parentName)();\n\n    // Store instance for later reference\n    store.add(this.label, {\n      badgee: this,\n      style,\n      parent: parentName\n    });\n  }\n\n  // Defines a new Badgee instance with @ as parent Badge\n  define(label, style) {\n    return new Badgee(label, style, this.label);\n  }\n}\n\n// ==================================\n\n// Create public Badgee instance\nlet b = new Badgee;\n\nconst redefineMethodsForAllBadges = () =>\n  store.each((label, b) => _defineMethods.bind(b.badgee, b.style, b.parent)())\n;\n\n// Augment public instance with utility methods\nb.style         = styles.style;\nb.defaultStyle  = styles.defaults;\nb.get           = label => __guard__(store.get(label), x => x.badgee);\nb.filter        = {\n  none() {\n    filter = {\n      include   : null,\n      exclude : null\n    };\n    redefineMethodsForAllBadges();\n    return b.filter;\n  },\n\n  include(matcher) {\n    if (matcher == null) { matcher = null; }\n    if (matcher !== filter.include) {\n      filter.include   = matcher;\n      redefineMethodsForAllBadges();\n    }\n    return b.filter;\n  },\n\n  exclude(matcher) {\n    if (matcher == null) { matcher = null; }\n    if (matcher !== filter.exclude) {\n      filter.exclude = matcher;\n      redefineMethodsForAllBadges();\n    }\n    return b.filter;\n  }\n};\n\nb.config      = function(conf) {\n  currentConf = config(conf);\n  // when conf is updated, redefine every badgee method\n  if (conf) {\n    redefineMethodsForAllBadges();\n  }\n  return currentConf;\n};\n\n// Some browsers don't allow to use bind on console object anyway\n// fallback to default if needed\ntry {\n  b.log();\n} catch (e) {\n  const fallback = console;\n  fallback.define = () => console;\n  fallback.style  = b.style;\n  fallback.styleDefaults = b.styleDefaults;\n  fallback.filter = b.filter;\n  fallback.get    = () => console;\n  fallback.config = () => b.config;\n  b = fallback;\n}\n\nexport default b;\n\n\nfunction __guard__(value, transform) {\n  return (typeof value !== 'undefined' && value !== null) ? transform(value) : undefined;\n}\n"],"names":["const","this","let","configure","store","style","config","i","method"],"mappings":"AAAOA,IAAM,IAAI,GAAG,YAAG,EAAK,CAAC;;AAE7B,AAAOA,IAAM,MAAM,GAAG,UAAC,OAAO,EAAW;;;;EACvC,KAAKA,IAAM,CAAC,IAAI,IAAI,EAAE;IACpBA,IAAM,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;IACpB,KAAKA,IAAM,GAAG,IAAI,GAAG,EAAE;MACrB,IAAI,GAAG,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;QAC3BA,IAAM,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;QACrB,OAAO,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;OACpB;KACF;GACF;EACD,OAAO,OAAO;CACf,CAAA;;;;;;;ACPDA,IAAM,OAAO,GAAGC,MAAI,CAAC,OAAO,IAAI,EAAE,CAAC;;AAEnCD,IAAM,mBAAmB,GAAG,UAAC,UAAU,EAAE;EACvCA,IAAM,GAAG,GAAG,EAAE,CAAC;EACf,KAAKA,IAAM,CAAC,IAAI,UAAU,EAAE;IAC1BA,IAAM,MAAM,GAAG,UAAU,CAAC,CAAC,CAAC,CAAA;IAC5B,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;MACpB,OAAO,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC;MACvB,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAClB,MAAM,IAAI,OAAO,OAAO,CAAC,MAAM,CAAC,KAAK,UAAU,EAAE;MAChD,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KACzB,MAAM;MACL,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAClB;GACF;EACD,OAAO,GAAG,CAAC;CACZ,CAAC;;;;;;;AAOFA,IAAM,UAAU,GAAG;EACjB,QAAQ;CACT,CAAC;;AAEFA,IAAM,OAAO,GAAG,mBAAmB,CAAC;EAClC,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,OAAO;EACnC,gBAAgB,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM;CACxC,CAAC,CAAC;;AAEHA,IAAM,mBAAmB,GAAG,mBAAmB,CAAC;EAC9C,QAAQ,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,WAAW,EAAE,UAAU,EAAE,cAAc;EAC1E,SAAS,EAAE,YAAY,EAAE,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,SAAS,EAAE,WAAW;EACzE,UAAU,EAAE,aAAa;CAC1B,CAAC,CAAC,AAEH,AAKA,AAAsB;;;AC9CtBA,IAAM,QAAQ,GAAG;EACf,OAAO,GAAG,IAAI;EACd,MAAM,KAAK,IAAI;CAChB,CAAC;;AAEFE,IAAI,MAAM,GAAG,MAAM,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC;;AAElCF,IAAMG,WAAS,GAAG,SAAS,IAAI,EAAE;;EAE/B,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;IAC5B,MAAM,GAAG,MAAM,CAAC,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;GACrC;;;EAGD,OAAO,MAAM,CAAC;CACf,CAAC,AAEF,AAAwB;;ACpBxB,IAAM,KAAK,GAAC,cACC,GAAG;EACd,IAAM,CAAC,MAAM,GAAG,EAAE,CAAC;CAClB,CAAA;;;AAGH,gBAAE,GAAG,iBAAC,IAAI,EAAE,GAAG,EAAE;EACf,IAAM,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC;CACzB,CAAA;;;AAGH,gBAAE,GAAG,iBAAC,IAAI,EAAE;EACV,OAAS,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,IAAI;CACjC,CAAA;;AAEH,gBAAE,IAAI,oBAAG;EACP,OAAS,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;CACjC,CAAA;;AAEH,gBAAE,IAAI,kBAAC,IAAI,EAAE;;;EACX,KAAOH,IAAM,IAAI,IAAIC,MAAI,CAAC,MAAM,EAAE;IAChC,IAAQ,GAAG,GAAGA,MAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAChC,IAAM,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;GACjB;CACF,CAAA,AAGH,AAAqB;;;ACvBrBD,IAAMI,OAAK,GAAG,IAAI,KAAK,CAAC;;;AAGxBF,IAAI,aAAa,GAAG;EAClB,eAAe,EAAE,KAAK;EACtB,SAAS,QAAQ,SAAS;EAC1B,QAAQ,SAAS,OAAO;EACxB,OAAO,UAAU,OAAO;CACzB,CAAC;;AAEFF,IAAM,MAAM,GAAG;;EAEb,KAAK,gBAAA,CAAC,IAAI,EAAEK,OAAK,EAAE;IACjB,IAAI,IAAI,IAAI,IAAI,IAAIA,OAAK,IAAI,IAAI,EAAE;MACjCA,OAAK,GAAG,MAAM,CAAC,EAAE,EAAE,aAAa,EAAEA,OAAK,CAAC,CAAC;MACzCD,OAAK,CAAC,GAAG,CAAC,IAAI,EAAEC,OAAK,CAAC,CAAC;KACxB;SACI,IAAI,IAAI,IAAI,IAAI,EAAE;MACrB,OAAOD,OAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;KACxB;IACD,OAAOA,OAAK,CAAC,IAAI,EAAE,CAAC;GACrB;;EAED,QAAQ,mBAAA,CAAC,KAAK,EAAE;IACd,IAAI,KAAK,IAAI,IAAI,EAAE;MACjB,aAAa,GAAG,KAAK,CAAC;KACvB;IACD,OAAO,aAAa,CAAC;GACtB;;EAED,cAAc,yBAAA,CAAC,IAAI,EAAE;IACnBJ,IAAM,KAAK,GAAGI,OAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAC9B,OAAO,CAAC,CAAC,YAAG;MACVJ,IAAM,MAAM,GAAG,EAAE,CAAC;MAClB,KAAKA,IAAM,CAAC,IAAI,KAAK,EAAE;QACrBA,IAAM,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;QACnBE,IAAI,IAAI,WAAA,CAAC;QACT,IAAI,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE;UAC3B,IAAI,GAAG,CAAI,MAAE,GAAE,CAAC,MAAE,CAAE;SACrB;QACD,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;OACnB;MACD,OAAO,MAAM,CAAC;KACf,GAAG,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;GAChB;CACF,CAAC;;;;;AAKFF,IAAM,KAAK,GAAG,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;;AAEjC,MAAM,CAAC,KAAK,CAAC,OAAO,IAAI,MAAM,CAAC,EAAE,EAAE,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;AAC7D,MAAM,CAAC,KAAK,CAAC,MAAM,KAAK,MAAM,CAAC,EAAE,EAAE,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;AAC5D,MAAM,CAAC,KAAK,CAAC,OAAO,IAAI,MAAM,CAAC,EAAE,EAAE,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;AAC7D,MAAM,CAAC,KAAK,CAAC,MAAM,KAAK,MAAM,CAAC,EAAE,EAAE,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;AAC5D,MAAM,CAAC,KAAK,CAAC,OAAO,IAAI,MAAM,CAAC,EAAE,EAAE,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;AAC7D,MAAM,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC,EAAE,EAAE,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;AAC9D,MAAM,CAAC,KAAK,CAAC,KAAK,MAAM,MAAM,CAAC,EAAE,EAAE,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;AAC3D,MAAM,CAAC,KAAK,CAAC,MAAM,KAAK,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;AACnE,MAAM,CAAC,KAAK,CAAC,SAAS,EAAE,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC;AACtE,MAAM,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;AACrE,MAAM,CAAC,KAAK,CAAC,MAAM,KAAK,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;AACnE,MAAM,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,AAGrE,AAAsB;;ACtEtB;;AAEA,AACA,AAGA,AACA,AACA,AAEAE,IAAI,WAAW,GAAGI,WAAM,EAAE,CAAC;AAC3BN,IAAM,KAAK,OAAO,IAAI,KAAK,CAAC;;AAE5BE,IAAI,MAAM,GAAG;EACX,OAAO,GAAG,IAAI;EACd,OAAO,GAAG,IAAI;CACf,CAAC;;;;AAIFF,IAAM,mBAAmB,GAAG,SAAS,GAAG,EAAE,KAAK,EAAE,QAAQ,CAAC;EACxD,IAAI,GAAG,IAAI,IAAI,EAAE,EAAE,GAAG,GAAG,EAAE,CAAC,EAAE;EAC9B,IAAI,QAAQ,IAAI,IAAI,EAAE,EAAE,QAAQ,GAAG,KAAK,CAAC,EAAE;EAC3C,QAAO,EAAC,GAAE,GAAG,IACX,QAAQ,GAAG,IAAI,GAAG,GAAG,CAAA,GACpB,KAAK,IACN,CAAC,QAAQ,GAAG,GAAG,GAAG,EAAE,CAAA,EACnB;CACJ,CAAC;;;;AAIF,IAAI,aAAa,GAAG,SAAS,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE;EACrDE,IAAI,IAAI,GAAG,EAAE,CAAC;;EAEd,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,EAAE,KAAK,GAAG,KAAK,CAAC,EAAE;EAC3C,IAAI,UAAU,EAAE;IACdF,IAAM,MAAM,GAAG,KAAK,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;IACrC,IAAI,GAAG,aAAa,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;GACxE;;EAED,IAAI,KAAK,EAAE;IACT,IAAI,CAAC,CAAC,CAAC,GAAG,mBAAmB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;GACxD;;EAED,IAAI,KAAK,EAAE;IACT,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC;GACzC;;EAED,OAAO,IAAI,CAAC;CACb,CAAC;;;;AAIFA,IAAM,QAAQ,GAAG,WAAW;;;EAC1B,KAAKA,IAAM,CAAC,IAAI,OAAO,EAAE;IACvBA,IAAM,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,CAAA;IACzBC,MAAI,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC;GACrB;EACD,KAAKD,IAAMO,GAAC,IAAI,mBAAmB,EAAE;IACnCP,IAAMQ,QAAM,GAAG,mBAAmB,CAACD,GAAC,CAAC,CAAC;IACtCN,MAAI,CAACO,QAAM,CAAC,GAAG,IAAI,CAAC;GACrB;CACF,CAAC;;;;;AAKFR,IAAM,cAAc,GAAG,SAAS,KAAK,EAAE,UAAU,EAAE;;;;EAEjD,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE;IACxB,OAAO,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;GAC9B,MAAM;;IAELA,IAAM,IAAI,GAAG,aAAa,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,EAAE,UAAU,CAAC,CAAC;;;;;IAK1D,IAAI,KAAK,KAAK,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE;MAC9B,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC;MAChB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KAClB;;IAEDA,IAAM,aAAa,GAAG,CAAC,MAAM,CAAC,OAAO,IAAI,IAAI,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;IAChFA,IAAM,WAAW,KAAK,MAAM,CAAC,OAAO,IAAI,IAAI,GAAG,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC;IACxF,IAAI,aAAa,IAAI,WAAW,EAAE;MAChC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;KACvB,MAAM;;MAEL,KAAKA,IAAM,CAAC,IAAI,OAAO,EAAE;QACvBA,IAAM,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,CAAA;QACzBC,MAAI,CAAC,MAAM,CAAC,GAAG,OAAA,OAAO,CAAC,MAAM,CAAC,EAAC,IAAI,MAAA,CAAC,OAAA,OAAO,WAAE,KAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAA,CAAC,CAAC;OACnE;;;MAGD,KAAKD,IAAMO,GAAC,IAAI,mBAAmB,EAAE;QACnCP,IAAMQ,QAAM,GAAG,mBAAmB,CAACD,GAAC,CAAC,CAAC;QACtCN,MAAI,CAACO,QAAM,CAAC,GAAG,OAAO,CAACA,QAAM,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;OAC9C;KACF;;;IAGD,OAAO,UAAU,CAAC,GAAG,CAAC,UAAC,IAAI,EAAE,UAAIP,MAAI,CAAC,IAAI,CAAC,GAAG,OAAO,CAAC,IAAI,CAAC,IAAC,CAAC,CAAC;GAC/D;UAAA;CACF,CAAC;;;;AAIF,IAAM,MAAM,GAAC,eAEA,CAAC,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE;;EAEtC,IAAM,CAAC,KAAK,GAAG,KAAK,CAAC;EACrB,cAAgB,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,UAAU,CAAC,EAAE,CAAC;;;EAGjD,KAAO,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE;IACtB,MAAQ,EAAE,IAAI;IACd,OAAE,KAAK;IACP,MAAQ,EAAE,UAAU;GACnB,CAAC,CAAC;CACJ,CAAA;;;AAGH,iBAAE,MAAM,oBAAC,KAAK,EAAE,KAAK,EAAE;EACrB,OAAS,IAAI,MAAM,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;CAC7C,CAAA;;;;;AAMHC,IAAI,CAAC,GAAG,IAAI,MAAM,CAAC;;AAEnBF,IAAM,2BAA2B,GAAG,YAAG,SACrC,KAAK,CAAC,IAAI,CAAC,UAAC,KAAK,EAAE,CAAC,EAAE,SAAG,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,GAAA,CAAC,GAAA,CAC7E;;;AAGD,CAAC,CAAC,KAAK,WAAW,MAAM,CAAC,KAAK,CAAC;AAC/B,CAAC,CAAC,YAAY,IAAI,MAAM,CAAC,QAAQ,CAAC;AAClC,CAAC,CAAC,GAAG,aAAa,UAAA,KAAK,EAAC,SAAG,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,UAAA,CAAC,EAAC,SAAG,CAAC,CAAC,MAAM,GAAA,CAAC,GAAA,CAAC;AACtE,CAAC,CAAC,MAAM,UAAU;EAChB,IAAI,eAAA,GAAG;IACL,MAAM,GAAG;MACP,OAAO,KAAK,IAAI;MAChB,OAAO,GAAG,IAAI;KACf,CAAC;IACF,2BAA2B,EAAE,CAAC;IAC9B,OAAO,CAAC,CAAC,MAAM,CAAC;GACjB;;EAED,OAAO,kBAAA,CAAC,OAAO,EAAE;IACf,IAAI,OAAO,IAAI,IAAI,EAAE,EAAE,OAAO,GAAG,IAAI,CAAC,EAAE;IACxC,IAAI,OAAO,KAAK,MAAM,CAAC,OAAO,EAAE;MAC9B,MAAM,CAAC,OAAO,KAAK,OAAO,CAAC;MAC3B,2BAA2B,EAAE,CAAC;KAC/B;IACD,OAAO,CAAC,CAAC,MAAM,CAAC;GACjB;;EAED,OAAO,kBAAA,CAAC,OAAO,EAAE;IACf,IAAI,OAAO,IAAI,IAAI,EAAE,EAAE,OAAO,GAAG,IAAI,CAAC,EAAE;IACxC,IAAI,OAAO,KAAK,MAAM,CAAC,OAAO,EAAE;MAC9B,MAAM,CAAC,OAAO,GAAG,OAAO,CAAC;MACzB,2BAA2B,EAAE,CAAC;KAC/B;IACD,OAAO,CAAC,CAAC,MAAM,CAAC;GACjB;CACF,CAAC;;AAEF,CAAC,CAAC,MAAM,QAAQ,SAAS,IAAI,EAAE;EAC7B,WAAW,GAAGM,WAAM,CAAC,IAAI,CAAC,CAAC;;EAE3B,IAAI,IAAI,EAAE;IACR,2BAA2B,EAAE,CAAC;GAC/B;EACD,OAAO,WAAW,CAAC;CACpB,CAAC;;;;AAIF,IAAI;EACF,CAAC,CAAC,GAAG,EAAE,CAAC;CACT,CAAC,OAAO,CAAC,EAAE;EACVN,IAAM,QAAQ,GAAG,OAAO,CAAC;EACzB,QAAQ,CAAC,MAAM,GAAG,YAAG,SAAG,OAAO,GAAA,CAAC;EAChC,QAAQ,CAAC,KAAK,IAAI,CAAC,CAAC,KAAK,CAAC;EAC1B,QAAQ,CAAC,aAAa,GAAG,CAAC,CAAC,aAAa,CAAC;EACzC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;EAC3B,QAAQ,CAAC,GAAG,MAAM,YAAG,SAAG,OAAO,GAAA,CAAC;EAChC,QAAQ,CAAC,MAAM,GAAG,YAAG,SAAG,CAAC,CAAC,MAAM,GAAA,CAAC;EACjC,CAAC,GAAG,QAAQ,CAAC;CACd;;AAED,UAAe,CAAC,CAAC;;;AAGjB,SAAS,SAAS,CAAC,KAAK,EAAE,SAAS,EAAE;EACnC,OAAO,CAAC,OAAO,KAAK,KAAK,WAAW,IAAI,KAAK,KAAK,IAAI,IAAI,SAAS,CAAC,KAAK,CAAC,GAAG,SAAS,CAAC;CACxF;;"}